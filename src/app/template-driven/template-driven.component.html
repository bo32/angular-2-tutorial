<p>
  template-driven works!
</p>
<form (ngSubmit)="onSubmit(f)" #f="ngForm">
  <div ngFormGroup="userData">
    <div class="form-group">
      <label for="username">Username</label>
      <input type="text" class="form-control"
        id="username" 
        [ngModel]="user.username" 
        name="username" 
        required
        pattern="^[a-z0-9_-]{3,30}$"
        #usernameField="ngModel"/>
      <div *ngIf="!usernameField.valid">
        Invalid user name!
      </div>
    </div>
    <div class="form-group">
      <label for="email">Email</label>
      <input type="text" class="form-control"
        id="email" [ngModel]="user.email"
        name="email" 
        required/>
    </div>
    <div class="form-group">
      <label for="password">Password</label>
      <input type="password" class="form-control"
        id="password" [ngModel]="user.password"
        name="password" 
        required/>
    </div>
    <div class="radio" *ngFor="let r of roles">
      <label>
        <input type="radio" name="role" [(ngModel)]="user.role" [value]="r">
        {{ r }}
      </label>
    </div>
    <button type="submit" class="btn btn-primary" [disabled]="!f.valid">Submit</button>
  </div>
</form>
